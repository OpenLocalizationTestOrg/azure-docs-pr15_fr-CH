<properties 
    pageTitle="Concentrateurs d’événement exceptions de messagerie | Microsoft Azure"
    description="Liste des concentrateurs d’événement Azure messagerie les exceptions et les actions suggérées."
    services="event-hubs"
    documentationCenter="na"
    authors="sethmanheim"
    manager="timlt"
    editor="" />
<tags 
    ms.service="event-hubs"
    ms.devlang="na"
    ms.topic="article"
    ms.tgt_pltfrm="na"
    ms.workload="na"
    ms.date="10/14/2016"
    ms.author="sethm" />

# <a name="event-hubs-messaging-exceptions"></a>Concentrateurs d’événement messagerie des exceptions

Cet article répertorie certaines exceptions générées par le Bus des services Azure messaging API. Ce jeu d’API inclut des concentrateurs de l’événement. Cette référence est sujette à modification, reportez-vous à des mises à jour.

## <a name="exception-categories"></a>Catégories d’exceptions

Les API de messagerie génèrent des exceptions qui peuvent se trouvent dans les catégories suivantes, ainsi que l’action associée, que vous pouvez prendre pour essayer de les résoudre. Notez que le sens et provoque une exception peut varier en fonction du type d’entité de messagerie (relais, rubriques événement concentrateurs/files d’attente) :

1.  Code d’erreur ([System.ArgumentException](https://msdn.microsoft.com/library/system.argumentexception.aspx), [System.InvalidOperationException](https://msdn.microsoft.com/library/system.invalidoperationexception.aspx), [System.OperationCanceledException](https://msdn.microsoft.com/library/system.operationcanceledexception.aspx), [System.Runtime.Serialization.SerializationException](https://msdn.microsoft.com/library/system.runtime.serialization.serializationexception.aspx)) de l’utilisateur. Action générale : essayer de corriger le code avant de continuer.

2.  Erreur d’installation/de configuration ([Microsoft.ServiceBus.Messaging.MessagingEntityNotFoundException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingentitynotfoundexception.aspx), [System.UnauthorizedAccessException](https://msdn.microsoft.com/library/system.unauthorizedaccessexception.aspx). Action générale : passez en revue votre configuration et modifier, si nécessaire.

3.  Exceptions transitoire ([Microsoft.ServiceBus.Messaging.MessagingException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingexception.aspx), [Microsoft.ServiceBus.Messaging.ServerBusyException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.serverbusyexception.aspx), [Microsoft.ServiceBus.Messaging.MessagingCommunicationException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingcommunicationexception.aspx)). Action générale : recommencer l’opération ou avertir les utilisateurs.

4.  Autres exceptions ([System.Transactions.TransactionException](https://msdn.microsoft.com/library/system.transactions.transactionexception.aspx), [System.TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx), [Microsoft.ServiceBus.Messaging.MessageLockLostException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagelocklostexception.aspx), [Microsoft.ServiceBus.Messaging.SessionLockLostException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.sessionlocklostexception.aspx)). Action générale : spécifique pour le type d’exception ; consultez le tableau dans la section suivante. 

## <a name="exception-types"></a>Types d’exception

Le tableau suivant répertorie les types d’exception messagerie et leurs causes et action suggérée de notes que vous pouvez prendre.

| **Type d’exception**                                                                                                                                                                                                                                                                                | **Description/causes/Examples**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | **Action suggérée**                                                                                                                                                                                                                                                                                                                                                                                                          | **Remarque sur la nouvelle tentative automatique et immédiat**                                                                                             |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------|
| [Exception TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx)                                                                                                                                                                                                           | Le serveur n’a pas répondu à l’opération demandée dans le délai spécifié, qui est contrôlée par [OperationTimeout](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingfactorysettings.operationtimeout.aspx). Le serveur peut avoir terminé l’opération demandée. Cela peut se produire en raison de réseau ou d’autres délais de l’infrastructure.                                                                                                                                                                                                                                                                   | Vérifier la cohérence de l’état du système et recommencer si nécessaire.                                                                                                                                                                                                                                                                                                                                                            | Nouvelle tentative peut aider dans certains cas ; Ajouter une logique de nouvelle tentative au code.                                                                      |
| [InvalidOperationException](https://msdn.microsoft.com/library/system.invalidoperationexception.aspx)                                                                                                                                                                                         | L’opération de l’utilisateur demandé n’est pas autorisée dans le serveur ou le service. Consultez le message d’exception pour plus de détails. Par exemple, [complète](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.brokeredmessage.complete.aspx) génère cette exception si le message a été reçu en mode de **ReceiveAndDelete** .                                                                                                                                                                                                                                                                                                     | Vérifiez le code et la documentation. Assurez-vous que l’opération demandée est valide.                                                                                                                                                                                                                                                                                                                                         | Ne permettra pas de nouvelle tentative.                                                                                                          |
| [OperationCanceledException](https://msdn.microsoft.com/library/system.operationcanceledexception.aspx)                                                                                                                                                                                       | Une tentative est effectuée pour appeler une opération sur un objet qui a déjà été fermé, abandonnée ou supprimé. Dans de rares cas, la transaction ambiante est déjà supprimée.                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Vérifiez le code et assurez-vous qu’il n’appelle pas d’opérations sur un objet supprimé.                                                                                                                                                                                                                                                                                                                                          | Ne permettra pas de nouvelle tentative.                                                                                                          |
| [UnauthorizedAccessException](https://msdn.microsoft.com/library/system.unauthorizedaccessexception.aspx)                                                                                                                                                                                     | L’objet [TokenProvider a](https://msdn.microsoft.com/library/azure/microsoft.servicebus.tokenprovider.aspx) n’a pas pu obtenir un jeton, le jeton n’est pas valide, ou le jeton ne contient-elle pas les déclarations requises pour effectuer l’opération.                                                                                                                                                                                                                                                                                                                                                                                                  | Assurez-vous que le fournisseur de jetons est créé avec les valeurs correctes. Vérifiez la configuration du service de contrôle d’accès.                                                                                                                                                                                                                                                                                                   | Nouvelle tentative peut aider dans certains cas ; Ajouter une logique de nouvelle tentative au code.                                                                      |
| [ArgumentException](https://msdn.microsoft.com/library/system.argumentexception.aspx)<br /> [ArgumentNullException](https://msdn.microsoft.com/library/system.argumentnullexception.aspx)<br />[ArgumentOutOfRangeException](https://msdn.microsoft.com/library/system.argumentoutofrangeexception.aspx) | Un ou plusieurs des arguments fournis à la méthode ne sont pas valides. L’URI fourni à [NamespaceManager](https://msdn.microsoft.com/library/azure/microsoft.servicebus.namespacemanager.aspx) ou [créer](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingfactory.create.aspx) contient des segments de chemin d’accès. Le modèle de l’URI fourni à [NamespaceManager](https://msdn.microsoft.com/library/azure/microsoft.servicebus.namespacemanager.aspx) ou [créer](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingfactory.create.aspx) n’est pas valide. La valeur de la propriété est supérieure à 32 Ko. | Vérifiez le code appelant et assurez-vous que les arguments sont corrects.                                                                                                                                                                                                                                                                                                                                                           | Ne permettra pas de nouvelle tentative.                                                                                                          |
| [MessagingEntityNotFoundException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingentitynotfoundexception.aspx)                                                                                                                                             | Entité associée à l’opération n’existe pas ou il a été supprimé.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Assurez-vous que l’entité existe.                                                                                                                                                                                                                                                                                                                                                                                              | Ne permettra pas de nouvelle tentative.                                                                                                          |
| [MessageNotFoundException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagenotfoundexception.aspx)                                                                                                                                                             | Essayez de recevoir un message avec un numéro de séquence donné. Ce message n’est pas trouvé.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Vérifiez que le message n’a pas déjà été reçu. Vérifiez la file d’attente de lettres mortes pour voir si le message a été deadlettered.                                                                                                                                                                                                                                                                                              | Ne permettra pas de nouvelle tentative.                                                                                                          |
| [MessagingCommunicationException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingcommunicationexception.aspx)                                                                                                                                               | Client n’est pas en mesure d’établir une connexion au concentrateur de l’événement.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Assurez-vous que le nom d’hôte fourni est correct et que l’hôte est accessible.                                                                                                                                                                                                                                                                                                                                                    | Nouvelle tentative peut être utile s’il y a des problèmes de connectivité intermittente.                                                               |
| [ServerBusyException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.serverbusyexception.aspx)                                                                                                                                                                       | Service n’est pas en mesure de traiter la demande pour l’instant.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Client peut attendre un certain temps, puis recommencez l’opération.                                                                                                                                                                                                                                                                                                                                                           | Client peut réessayer après un certain intervalle. Si une nouvelle tentative entraîne une exception différente, vérifiez le comportement des nouvelles tentatives de cette exception. |
| [MessageLockLostException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagelocklostexception.aspx)                                                                                                                                                             | Jeton de verrouillage associé au message a expiré, ou le jeton de verrouillage est introuvable.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Supprimer le message.                                                                                                                                                                                                                                                                                                                                                                                                      | Ne permettra pas de nouvelle tentative.                                                                                                          |
| [SessionLockLostException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.sessionlocklostexception.aspx)                                                                                                                                                             | Verrou associé à cette session est perdue.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Abandon de l’objet [MessageSession](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagesession.aspx) .                                                                                                                                                                                                                                                                                           | Ne permettra pas de nouvelle tentative.                                                                                                          |
| [MessagingException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingexception.aspx)                                                                                                                                                                         | Générique de messagerie d’exception peut être levée dans les cas suivants : une tentative est faite pour créer un [QueueClient](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.queueclient.aspx) à l’aide d’un nom ou un chemin d’accès qui appartient à un type d’entité différent (par exemple, une rubrique). Une tentative est effectuée pour envoyer un message supérieur à 256 Ko. Le serveur ou le service a rencontré une erreur lors du traitement de la demande. Consultez le message d’exception pour plus de détails. Il s’agit généralement d’une exception passagère.                                                                                                               | Vérifiez le code et garantir que seuls les objets sérialisables sont utilisés pour le corps du message (ou utilisez un sérialiseur personnalisé). Consultez la documentation pour les types de valeur prise en charge des propriétés et des types d’utilisation pris en charge uniquement. Vérifiez la propriété [IsTransient](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingexception.istransient.aspx) . Si elle a la **valeur true**, vous pouvez retenter l’opération. | Comportement des nouvelles tentatives n’est pas définie et ne peut pas vous aider.                                                                               |
| [MessagingEntityAlreadyExistsException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingentityalreadyexistsexception.aspx)                                                                                                                                   | Essayez de créer une entité dont le nom est déjà utilisé par une autre entité dans cet espace de noms du service.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Supprimez l’entité existante ou choisissez un autre nom de l’entité à créer.                                                                                                                                                                                                                                                                                                                                       | Ne permettra pas de nouvelle tentative.                                                                                                          |
| [QuotaExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.quotaexceededexception.aspx)                                                                                                                                                                 | L’entité de messagerie a atteint sa taille maximale. Cela peut se produire si le nombre maximal de récepteurs (ce qui est de 5) a déjà été ouvert sur un niveau de regroupement par consommateur.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Créer l’espace de l’entité en recevant des messages de l’entité ou de ses files d’attente secondaires.                                                                                                                                                                                                                                                                                                                                       | Nouvelle tentative peut être utile si les messages ont été supprimés dans l’intervalle.                                                           
|
| [SessionCannotBeLockedException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.sessioncannotbelockedexception.aspx)                                                                                                                                                 | Tentative d’accepter une session avec un ID de session spécifiques, mais la session est actuellement verrouillée par un autre client.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Assurez-vous que la session est déverrouillée par d’autres clients.                                                                                                                                                                                                                                                                                                                                                                       | Nouvelle tentative peut être utile si la session a été publiée dans l’intervalle.                                                             |
| [TransactionSizeExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.transactionsizeexceededexception_methods.aspx)                                                                                                                                     | Trop d’opérations font partie de la transaction.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Réduire le nombre d’opérations qui font partie de cette transaction.                                                                                                                                                                                                                                                                                                                                                        | Ne permettra pas de nouvelle tentative.                                                                                                          |
| [MessagingEntityDisabledException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingentitydisabledexception.aspx)                                                                                                                                             | Demande d’une opération d’exécution sur une entité désactivée.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Activer l’entité.                                                                                                                                                                                                                                                                                                                                                                                                      | Nouvelle tentative peut être utile si l’entité a été activée dans l’intervalle.                                                             |
| [MessageSizeExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagesizeexceededexception.aspx)                                                                                                                                                     | Une charge utile du message dépasse la limite de 256 Ko. Notez que la limite de 256 Ko est la taille totale du message, qui peut inclure des propriétés système et toute surcharge .NET.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Réduire la taille de la charge utile du message, puis recommencez l’opération.                                                                                                                                                                                                                                                                                                                                                         | Ne permettra pas de nouvelle tentative.                                                                                                          |
| [TransactionException](https://msdn.microsoft.com/library/system.transactions.transactionexception.aspx)                                                                                                                                                                                      | La transaction ambiante (*Transaction.Current*) n’est pas valide. Il ont été terminée ou annulée. Exception interne peut fournir des informations supplémentaires.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                           | Ne permettra pas de nouvelle tentative.                                                                                                          | -
| [TransactionInDoubtException](https://msdn.microsoft.com/library/system.transactions.transactionindoubtexception.aspx)                                                                                                                                                                        | Une opération est tentée sur une transaction qui est dans le doute, ou une tentative est faite pour valider la transaction et la transaction est dans le doute.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Votre application doit gérer cette exception (comme un cas spécial), que la transaction peut avoir déjà été validée.                                                                                                                                                                                                                                                                                                      | -                                                                                                                              |

## <a name="quotaexceededexception"></a>QuotaExceededException

[QuotaExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.quotaexceededexception.aspx) indique qu’un quota pour une entité spécifique a été dépassé.

Cela peut se produire si le nombre maximal de récepteurs (5) a déjà été ouvert sur un niveau de regroupement par consommateur.

### <a name="event-hubs"></a>Concentrateurs d’événement

Concentrateurs d’événement a une limite de 20 groupes de consommateurs par le concentrateur d’événements. Lorsque vous essayez de créer plus, vous recevez un [QuotaExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.quotaexceededexception.aspx). 

## <a name="timeoutexception"></a>Exception TimeoutException 

Une [exception TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx) indique qu’une opération initiée par l’utilisateur est en cours dépasse le délai d’expiration de l’opération. 

### <a name="event-hubs"></a>Concentrateurs d’événement

Des concentrateurs d’événement, le délai est spécifié en tant que partie de la chaîne de connexion, ou par l’intermédiaire de [ServiceBusConnectionStringBuilder](https://msdn.microsoft.com/library/azure/microsoft.servicebus.servicebusconnectionstringbuilder.aspx). Le message d’erreur peut varier, mais il contient toujours la valeur de délai d’attente spécifiée pour l’opération en cours. 

### <a name="common-causes"></a>Causes courantes

Il existe deux causes courantes de cette erreur : une configuration incorrecte ou une erreur de service temporaire.

1. **Configuration incorrecte** 
    le délai de l’opération peut être trop petit pour la condition de fonctionnement. La valeur par défaut pour le délai d’expiration de l’opération dans le Kit de développement logiciel du client est de 60 secondes. Vérifiez pour voir si votre code possède la valeur définie sur une valeur trop petite. Notez que la condition du réseau et de l’utilisation du processeur peut affecter le temps que nécessaire pour une opération particulière, afin que le délai d’expiration de l’opération ne doit pas être définie avec une valeur très faible.

2. **Erreur du service transitoire** 
    parfois le service événement concentrateurs peut rencontrer des retards dans le traitement des requêtes. par exemple, pendant les périodes de trafic élevé. Dans ce cas, vous pouvez réessayer l’opération après un certain temps, jusqu'à ce que l’opération est réussie. Si la même opération échoue encore après plusieurs tentatives, visitez le [site état de service Azure](https://azure.microsoft.com/status/) pour voir s’il existe des interruptions du service connu.

## <a name="next-steps"></a>Étapes suivantes

Pour la référence complète de Bus des services et API .NET de concentrateurs événement, consultez la [référence d’Azure sur MSDN](https://msdn.microsoft.com/library/azure/mt419900.aspx).
